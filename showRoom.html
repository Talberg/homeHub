<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Box Practice</title>
    <link rel="preconnect" href="https://fonts.googleapis.com" />
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin />
    <link
      href="https://fonts.googleapis.com/css2?family=Roboto+Slab:wght@100..900&family=Sigmar&display=swap"
      rel="stylesheet"
    />
    <link rel="stylesheet" href="style.css">
</head>
<body >
    <header>
        <h1>Contents</h1>
        <img src="Room.png" width="200">
    </header>
    <nav>
        <ul>
          <li><a href="./index.html">Home</a></li>
          <li><a href="./rooms.html">Rooms</a></li>
          <li><a href="./about.html">About</a></li>
        </ul>
    </nav>
    <main>
        <section class="main-content">
            <h2>What is your Room?</h2>
            <table id="matchedDataTable">
                <thead>
                    <tr>
                        <th>Contents</th>
                    </tr>
                </thead>
                <tbody id="matchedDataTableBody">
                </tbody>
            </table>

        </section>

    </main>

    <script>
        const form = document.getElementById('addRoomForm');
    
      
      















function getParameterByName(name) {
    let url = window.location.href;
    name = name.replace(/[\[\]]/g, '\\$&');
    let regex = new RegExp('[?&]' + name + '(=([^&#]*)|&|#|$)'),
        results = regex.exec(url);
    if (!results) return null;
    if (!results[2]) return '';
    return decodeURIComponent(results[2].replace(/\+/g, ' '));
}
// Function to get query parameter from URL
function getParameterByName(name) {
    let url = window.location.href;
    name = name.replace(/[\[\]]/g, '\\$&');
    let regex = new RegExp('[?&]' + name + '(=([^&#]*)|&|#|$)'),
        results = regex.exec(url);
    if (!results) return null;
    if (!results[2]) return '';
    return decodeURIComponent(results[2].replace(/\+/g, ' '));
}


function displayMatchedData() {

    let name = getParameterByName('name');


    if (name) {
    
        let storedData = localStorage.getItem('data');

  
        if (storedData) {

            let data = JSON.parse(storedData);

      
            let matchedData = data.filter(item => item.name.toLowerCase().includes(name.toLowerCase()));


            let matchedDataTableBody = document.getElementById('matchedDataTableBody');

   
            matchedDataTableBody.innerHTML = '';

         
            if (matchedData.length > 0) {
           
                matchedData.forEach(item => {
                    let row = document.createElement('tr');
                    row.innerHTML = `
                        <td>${item.description}</td>
                    `;
                    matchedDataTableBody.appendChild(row);
                });
            } else {
                let row = document.createElement('tr');
                row.innerHTML = `<td colspan="3">No data found matching the name.</td>`;
                matchedDataTableBody.appendChild(row);
            }
        } else {
            console.log('No data found in local storage.');
        }
    } else {
        console.log('Name parameter not found in URL.');
    }
}






displayMatchedData();

      </script>
</body>
</html>